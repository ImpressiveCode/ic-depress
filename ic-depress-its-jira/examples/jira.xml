<!--
RSS generated by JIRA (4.4.5#665-sha1:422aeadac7e4462fb4ae63fce804ff78c4258dd6) at Thu May 10 21:20:16 UTC 2012

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/sr/jira.issueviews:searchrequest-xml/temp/SearchRequest.xml?jqlQuery=project+%3D+LANG+AND+issuetype+%3D+Bug+AND+priority+in+%28Blocker%2C+Critical%2C+Major%2C+Minor%29+AND+resolution+%3D+Fixed+AND+affectedVersion+%3D+12311714+AND+status+in+%28Resolved%2C+Closed%29+ORDER+BY+fixVersion+ASC%2C+priority+DESC&tempMax=1000&field=key&field=summary
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+LANG+AND+issuetype+%3D+Bug+AND+priority+in+%28Blocker%2C+Critical%2C+Major%2C+Minor%29+AND+resolution+%3D+Fixed+AND+affectedVersion+%3D+12311714+AND+status+in+%28Resolved%2C+Closed%29+ORDER+BY+fixVersion+ASC%2C+priority+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="14" total="14"/>
                <build-info>
            <version>4.4.5</version>
            <build-number>665</build-number>
            <build-date>15-02-2012</build-date>
        </build-info>
<item>
            <title>[LANG-14] [lang] Throwable cause for NotImplementedException</title>
                <link>https://issues.apache.org/jira/browse/LANG-14</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;The objective is to be able to signal a unsupported catch block :&lt;/p&gt;

&lt;p&gt; try {
    ...
 } catch (... e) {
    throw new NotImplentedException(&quot;... &amp;lt;case description&amp;gt; ...&quot;, e);
 }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
            <key id="12341275">LANG-14</key>
            <summary>[lang] Throwable cause for NotImplementedException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="alban">Alban Peignier</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Feb 2004 00:29:19 +0000</created>
                <updated>Tue, 16 May 2006 12:29:01 +0000</updated>
                    <resolved>Tue, 16 May 2006 12:29:01 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>2.1</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12406023" author="alban" created="Mon, 16 Feb 2004 00:30:31 +0000"  >&lt;p&gt;Created an attachment (id=10365)&lt;br/&gt;
Adds a Throwable cause support to NotImplementedException&lt;/p&gt;</comment>
                    <comment id="12406024" author="alban" created="Wed, 25 Feb 2004 15:46:41 +0000"  >&lt;p&gt;Created an attachment (id=10540)&lt;br/&gt;
Complete patch with unit tests&lt;/p&gt;</comment>
                    <comment id="12406025" author="scolebourne@joda.org" created="Thu, 4 Mar 2004 08:12:44 +0000"  >&lt;p&gt;I have checked in a change to NotImplementedException that makes full use of &lt;br/&gt;
the Nestable interface and structure that we already have in &lt;span class=&quot;error&quot;&gt;&amp;#91;lang&amp;#93;&lt;/span&gt;. If &lt;br/&gt;
committers agree, this should be extended to other exceptions in the base of &lt;br/&gt;
lang.&lt;/p&gt;</comment>
                    <comment id="12406026" author="alban" created="Sun, 14 Mar 2004 03:01:39 +0000"  >&lt;p&gt;NotImplementedException seems to be modified. The bug is fixed, isn&apos;it ?&lt;/p&gt;</comment>
                    <comment id="12406027" author="ggregory@seagullsw.com" created="Tue, 16 Mar 2004 10:03:04 +0000"  >&lt;p&gt;There is now a constructor NotImplementedException(String msg, Throwable cause)&lt;br/&gt;
so the ticket is &quot;fixed&quot;. Stephen could you add @since tags to the new stuff?&lt;br/&gt;
Then we can close this ticket. Thanks!&lt;/p&gt;</comment>
                    <comment id="12406028" author="scolebourne@joda.org" created="Wed, 17 Mar 2004 06:47:28 +0000"  >&lt;p&gt;@since done&lt;/p&gt;</comment>
                    <comment id="12406029" author="bayard" created="Wed, 26 Apr 2006 13:10:49 +0000"  >&lt;p&gt;2.1 released, closing.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12332745" name="lang-NotImplementedException-cause.patch" size="7556" author="alban" created="Wed, 25 Feb 2004 15:46:41 +0000" />
                    <attachment id="12332744" name="lang-NotImplementedException-cause.patch" size="2191" author="alban" created="Mon, 16 Feb 2004 00:30:31 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>2.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>26954</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 4 Mar 2004 08:12:44 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                        </customfields>
    </item>

<item>
            <title>[LANG-659] EntityArrays typo: {&quot;\u2122&quot;, &quot;&amp;minus;&quot;}, // minus sign, U+2212 ISOtech</title>
                <link>https://issues.apache.org/jira/browse/LANG-659</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;EntityArrays typo in HTML40_EXTENDED_ESCAPE: &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      {&quot;\u2122&quot;, &quot;&amp;amp;minus;&quot;}, // minus sign, U+2212 ISOtech
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should be&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      {&quot;\u2212&quot;, &quot;&amp;amp;minus;&quot;}, // minus sign, U+2212 ISOtech
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;as is obvious from the comment and the position in the list.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12479868">LANG-659</key>
            <summary>EntityArrays typo: {&quot;\u2122&quot;, &quot;&amp;minus;&quot;}, // minus sign, U+2212 ISOtech</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="sebb@apache.org">Sebb</assignee>
                                <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Nov 2010 15:54:42 +0000</created>
                <updated>Wed, 8 Jun 2011 16:09:36 +0000</updated>
                    <resolved>Sat, 13 Nov 2010 16:54:37 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.text.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12931699" author="sebb@apache.org" created="Sat, 13 Nov 2010 16:54:37 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310000">
                <name>Duplicate</name>
                                                <inwardlinks description="is duplicated by">
                            <issuelink>
            <issuekey id="12509606">LANG-705</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-602] ContextedRuntimeException no longer an &apos;unchecked&apos; exception</title>
                <link>https://issues.apache.org/jira/browse/LANG-602</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;The purpose of ContextedRuntimeException was to provide an &apos;unchecked&apos; exception with contexted features.  the fact that it now extends &apos;java.langException&apos; makes it a checked exception identical to ContextedException and doesn&apos;t fulfill its purpose.&lt;/p&gt;

&lt;p&gt;Recommend you either just remove ContextedRuntimeException (as it&apos;s now redundant with ContextedException) or revert the change that has it extending java.lang.Exception back so that it extends java.lang.RuntimeException.  I would prefer keeping ContextedRuntimeException and having it extend RuntimeException.&lt;/p&gt;

&lt;p&gt;I apologize for not catching this earlier.  I only caught it now in attempt to use ContextedRuntimeException on one of my projects and discovering that it is no longer unchecked.&lt;/p&gt;

&lt;p&gt;Thanks for looking at this.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12458378">LANG-602</key>
            <summary>ContextedRuntimeException no longer an &apos;unchecked&apos; exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="joehni">Joerg Schaible</assignee>
                                <reporter username="dashmore">Derek C. Ashmore</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Mar 2010 09:55:21 +0000</created>
                <updated>Fri, 26 Mar 2010 06:03:45 +0000</updated>
                    <resolved>Mon, 8 Mar 2010 22:22:11 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.exception.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12842487" author="dashmore" created="Sun, 7 Mar 2010 21:30:14 +0000"  >&lt;p&gt;If it helps, I&apos;ve attached a slightly modified ContextedRuntimeException class that fixes the issue &amp;#8211; just changes the class to extend RuntimeException instead of Exception.&lt;/p&gt;

&lt;p&gt;Thanks, again, for looking at this.&lt;/p&gt;</comment>
                    <comment id="12842830" author="joehni" created="Mon, 8 Mar 2010 22:22:11 +0000"  >&lt;p&gt;Thanks for heads-up.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;ContextedRuntimeException must extend RuntimeException (LANG-602).&quot; 
    Sending        src/Commons/proper/lang/src/main/java/org/apache/commons/lang3/exception/ContextedRuntimeException.java
    Transmitting file data ...
    Committed revision 920544.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12438150" name="ContextedRuntimeException.java" size="7150" author="dashmore" created="Sun, 7 Mar 2010 21:30:14 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Mon, 8 Mar 2010 22:22:11 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-11] Depend on JDK 1.5+</title>
                <link>https://issues.apache.org/jira/browse/LANG-11</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;Compile under Java 5.&lt;/p&gt;

&lt;p&gt;Or go straight to 6?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
            <key id="12343027">LANG-11</key>
            <summary>Depend on JDK 1.5+</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="bayard">Henri Yandell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Apr 2006 11:52:52 +0000</created>
                <updated>Thu, 17 Dec 2009 03:42:41 +0000</updated>
                    <resolved>Sun, 1 Mar 2009 20:59:20 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>General</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12677842" author="bayard" created="Sun, 1 Mar 2009 20:59:20 +0000"  >&lt;p&gt;Probably 1.5. 1.6 wasn&apos;t that special.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                <customfieldname>Bugzilla Id</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>39322</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-658] Some Entitys like &amp;Ouml; are not matched properly against its ISO8859-1 representation</title>
                <link>https://issues.apache.org/jira/browse/LANG-658</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;In EntityArrays &lt;/p&gt;

&lt;p&gt;In&lt;br/&gt;
 private static final String[][] ISO8859_1_ESCAPE &lt;br/&gt;
some matching is wrong, for example&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
        {&quot;\u00D7&quot;, &quot;&amp;amp;Ouml;&quot;}, // &#214; - uppercase O, umlaut
        {&quot;\u00D8&quot;, &quot;&amp;amp;times;&quot;}, // multiplication sign
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;but this must be   &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
       {&quot;\u00D6&quot;, &quot;&amp;amp;Ouml;&quot;}, // &#214; - uppercase O, umlaut
        {&quot;\u00D7&quot;, &quot;&amp;amp;times;&quot;}, // multiplication sign
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;according to &lt;a href=&quot;http://www.fileformat.info/info/unicode/block/latin_supplement/list.htm&quot;&gt;http://www.fileformat.info/info/unicode/block/latin_supplement/list.htm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;First look:&lt;/p&gt;

&lt;p&gt;u00CA is missing in the array and all following entries are matched wrong by an offset of 1.&lt;/p&gt;


&lt;p&gt;Found on &lt;a href=&quot;http://stackoverflow.com/questions/4172784/bug-in-apache-commons-stringescapeutil/4172915#4172915&quot;&gt;http://stackoverflow.com/questions/4172784/bug-in-apache-commons-stringescapeutil/4172915#4172915&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
            <key id="12479866">LANG-658</key>
            <summary>Some Entitys like &amp;Ouml; are not matched properly against its ISO8859-1 representation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="mkonietzka">Michael Konietzka</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Nov 2010 14:31:25 +0000</created>
                <updated>Wed, 8 Jun 2011 16:10:21 +0000</updated>
                    <resolved>Sat, 13 Nov 2010 16:52:16 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.text.translate.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <comments>
                    <comment id="12931691" author="sebb@apache.org" created="Sat, 13 Nov 2010 16:09:03 +0000"  >&lt;p&gt;Later on, there are two instances of E5:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
        {&quot;\u00E5&quot;, &quot;&amp;amp;auml;&quot;}, // &#228; - lowercase a, umlaut
        {&quot;\u00E5&quot;, &quot;&amp;amp;aring;&quot;}, // &#229; - lowercase a, ring
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;The latter is correct, and subsequent entries seem OK.&lt;/p&gt;</comment>
                    <comment id="12931693" author="sebb@apache.org" created="Sat, 13 Nov 2010 16:16:23 +0000"  >&lt;p&gt;Another duplicate entry:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
        {&quot;\u00F1&quot;, &quot;&amp;amp;ntilde;&quot;}, // &#241; - lowercase n, tilde
        {&quot;\u00F3&quot;, &quot;&amp;amp;ograve;&quot;}, // &#242; - lowercase o, grave accent
        {&quot;\u00F3&quot;, &quot;&amp;amp;oacute;&quot;}, // &#243; - lowercase o, acute accent
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;first F3 entry should be F2&lt;/p&gt;</comment>
                    <comment id="12931697" author="sebb@apache.org" created="Sat, 13 Nov 2010 16:52:16 +0000"  >&lt;p&gt;Now hopefully fixed.&lt;/p&gt;</comment>
                    <comment id="12931709" author="sebb@apache.org" created="Sat, 13 Nov 2010 18:12:15 +0000"  >&lt;p&gt;Note: ran a check comparing the values agains the ones from lang2 Entities, and the two implementations now seem to agree&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310000">
                <name>Duplicate</name>
                                                <inwardlinks description="is duplicated by">
                            <issuelink>
            <issuekey id="12509606">LANG-705</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 13 Nov 2010 16:09:03 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-662] org.apache.commons.lang3.math.Fraction does not reduce (Integer.MIN_VALUE, 2^k)</title>
                <link>https://issues.apache.org/jira/browse/LANG-662</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;The greatestCommonDivisor method in class Fraction does not find the gcd of Integer.MIN_VALUE and 2^k, and this case can be triggered by taking Integer.MIN_VALUE as the numerator. Note that the case of taking Integer.MIN_VALUE as the denominator is handled explicitly in the getReducedFraction factory method.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FractionTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// additional test cases
&lt;/span&gt;	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testReducedFactory_int_int() {
		&lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;		f = Fraction.getReducedFraction(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MIN_VALUE, 2);
		assertEquals(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MIN_VALUE / 2, f.getNumerator());
		assertEquals(1, f.getDenominator());

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testReduce() {
		&lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;		f = Fraction.getFraction(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MIN_VALUE, 2);
		result = f.reduce();
		assertEquals(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MIN_VALUE / 2, result.getNumerator());
		assertEquals(1, result.getDenominator());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </description>
                <environment></environment>
            <key id="12492553">LANG-662</key>
            <summary>org.apache.commons.lang3.math.Fraction does not reduce (Integer.MIN_VALUE, 2^k)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priority_minor.gif">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="chsemrau">Christian Semrau</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 22:40:30 +0000</created>
                <updated>Mon, 17 Jan 2011 04:30:27 +0000</updated>
                    <resolved>Mon, 17 Jan 2011 04:30:27 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.math.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12968469" author="chsemrau" created="Mon, 6 Dec 2010 23:04:55 +0000"  >&lt;p&gt;The current implementation:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Fraction.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; greatestCommonDivisor(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; u, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; v) {
        &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; either op. is abs 0 or 1, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 1:
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs(u) &amp;lt;= 1 || &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs(v) &amp;lt;= 1) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 1;
        }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;The case u==0 || v==0 is already handled at the calling site (). So you might switch to testing for abs==1 only:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Fraction.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; greatestCommonDivisor(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; u, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; v) {
    	&lt;span class=&quot;code-comment&quot;&gt;// the &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; u==0 || v==0 is handled by the caller.
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; either op. is abs 1, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 1:
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs(u) == 1 || &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs(v) == 1) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 1;
        }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Dropping this test altogether does not change correctness, but might influence performance. If you expect many fractions with numerator 1 or denominator 1, keep the test.&lt;/p&gt;</comment>
                    <comment id="12976385" author="bayard" created="Sat, 1 Jan 2011 07:14:12 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-663&quot; title=&quot;org.apache.commons.lang3.math.Fraction does not always succeed in multiplyBy and divideBy&quot;&gt;&lt;del&gt;LANG-663&lt;/del&gt;&lt;/a&gt;. Commons Math solved this, as such, by adding a BigFraction. My suggestion is that we drop Fraction from Lang and point people towards Math&apos;s more in depth implementation.&lt;/p&gt;</comment>
                    <comment id="12976435" author="bayard" created="Sat, 1 Jan 2011 19:28:45 +0000"  >&lt;p&gt;Need to resolve before 3.0 release.&lt;/p&gt;</comment>
                    <comment id="12976744" author="chsemrau" created="Mon, 3 Jan 2011 14:02:34 +0000"  >&lt;p&gt;The commons-math version does not have this overflow in its gcd implementation, and it can be easily prevented.&lt;br/&gt;
But as written in &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-663&quot; title=&quot;org.apache.commons.lang3.math.Fraction does not always succeed in multiplyBy and divideBy&quot;&gt;&lt;del&gt;LANG-663&lt;/del&gt;&lt;/a&gt;, I&apos;d drop the commons-lang Fraction class in favor of commons-math Fraction.&lt;/p&gt;</comment>
                    <comment id="12981319" author="bayard" created="Thu, 13 Jan 2011 16:27:38 +0000"  >&lt;p&gt;Definitely fix then - general task here should be to examine Math Fraction for changes that need to be applied to Lang Fraction.&lt;/p&gt;</comment>
                    <comment id="12982474" author="bayard" created="Mon, 17 Jan 2011 04:30:27 +0000"  >&lt;p&gt;svn ci -m &quot;Adding first method check from Math&apos;s MathUtils.gcd method; and unit tests showing that this was needed. Bug reported and solved by Christian Semrau &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-662&quot; title=&quot;org.apache.commons.lang3.math.Fraction does not reduce (Integer.MIN_VALUE, 2^k)&quot;&gt;&lt;del&gt;LANG-662&lt;/del&gt;&lt;/a&gt;&quot;&lt;br/&gt;
Sending        src/main/java/org/apache/commons/lang3/math/Fraction.java&lt;br/&gt;
Sending        src/test/java/org/apache/commons/lang3/math/FractionTest.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 1059749.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                <outwardlinks description="relates to">
                            <issuelink>
            <issuekey id="12492558">LANG-663</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 1 Jan 2011 07:14:12 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-663] org.apache.commons.lang3.math.Fraction does not always succeed in multiplyBy and divideBy</title>
                <link>https://issues.apache.org/jira/browse/LANG-663</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;The Fraction.multiplyBy and divideBy methods fail sometimes when the arguments are not reduced.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FunctionTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testMultiply() {
        &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;        f1 = Fraction.getFraction(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE);
        f2 = Fraction.getFraction(42, 1);
        f = f1.multiplyBy(f2);
        assertEquals(42, f.getNumerator());
        assertEquals(1, f.getDenominator());

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testDivide() {
        &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;        f1 = Fraction.getFraction(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE);
        f2 = Fraction.getFraction(42, 1);
        f = f1.divideBy(f2);
        assertEquals(1, f.getNumerator());
        assertEquals(42, f.getDenominator());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
            <key id="12492558">LANG-663</key>
            <summary>org.apache.commons.lang3.math.Fraction does not always succeed in multiplyBy and divideBy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priority_minor.gif">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="chsemrau">Christian Semrau</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 23:15:41 +0000</created>
                <updated>Mon, 17 Jan 2011 04:13:06 +0000</updated>
                    <resolved>Mon, 17 Jan 2011 04:13:06 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.math.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12968478" author="chsemrau" created="Mon, 6 Dec 2010 23:16:51 +0000"  >&lt;p&gt;These methods fail to reduce their arguments. This may be due to the commons-math Fraction (which seems to be the source) is always in reduced form. But commons-lang Fraction is not always reduced, and so multiplyBy must reduce its arguments, before cross-reducing the two arguments.&lt;/p&gt;</comment>
                    <comment id="12968480" author="chsemrau" created="Mon, 6 Dec 2010 23:23:14 +0000"  >&lt;p&gt;Even if both arguments are reduced, if the divisor has numerator Integer.MIN_VALUE, divideBy may fail despite the quotient being representable with positive denominator.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FractionTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testDivide() {
        &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;        f1 = Fraction.getFraction(2, 3);
        f2 = Fraction.getFraction(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MIN_VALUE, 3);
        f = f1.divideBy(f2);
        assertEquals(-1, f.getNumerator());
        assertEquals(-&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MIN_VALUE / 2, f.getDenominator());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                    <comment id="12976384" author="bayard" created="Sat, 1 Jan 2011 07:13:10 +0000"  >&lt;p&gt;Effectively the same issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-251&quot; title=&quot;Improve the Fraction class to avoid overflow problems and increase features&quot;&gt;&lt;del&gt;MATH-251&lt;/del&gt;&lt;/a&gt;. In Commons Math they added a BigFraction that doesn&apos;t overflow. Our options would seem to be:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Dump Fraction and recommend Math.&lt;/li&gt;
	&lt;li&gt;Add commentary to Fraction pointing towards Math and its BigFraction.&lt;/li&gt;
	&lt;li&gt;Implement BigFraction.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m still in favour of dropping Fraction from Lang and sending people over to Commons Math.&lt;/p&gt;</comment>
                    <comment id="12976436" author="bayard" created="Sat, 1 Jan 2011 19:28:59 +0000"  >&lt;p&gt;Need to resolve before 3.0 release.&lt;/p&gt;</comment>
                    <comment id="12976662" author="chsemrau" created="Mon, 3 Jan 2011 09:20:23 +0000"  >&lt;p&gt;I favor having only one Fraction class, preferably in Math.&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-251&quot; title=&quot;Improve the Fraction class to avoid overflow problems and increase features&quot;&gt;&lt;del&gt;MATH-251&lt;/del&gt;&lt;/a&gt;, the solution to overflow is using a larger number range (BigInteger). This issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-663&quot; title=&quot;org.apache.commons.lang3.math.Fraction does not always succeed in multiplyBy and divideBy&quot;&gt;&lt;del&gt;LANG-663&lt;/del&gt;&lt;/a&gt;) and  &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-662&quot; title=&quot;org.apache.commons.lang3.math.Fraction does not reduce (Integer.MIN_VALUE, 2^k)&quot;&gt;&lt;del&gt;LANG-662&lt;/del&gt;&lt;/a&gt; mention spurious overflows that need not occur when using int: The overflows mentioned here can be avoided. Of course, there are many overflows that cannot be avoided, and therefore BigFraction was a valueable addition.&lt;/p&gt;</comment>
                    <comment id="12976735" author="chsemrau" created="Mon, 3 Jan 2011 13:47:28 +0000"  >&lt;p&gt;Oh, and seeing that method Fraction.addSub (both in Lang and Math) does all it can to ensure that spurious overflow is prevented (by using a BigInteger for an intermediate value), I wonder if the overflow of 2 / 3 divided by MIN_VALUE / 3 would be acceptable (in the Math version!), when it can be prevented too.&lt;/p&gt;</comment>
                    <comment id="12976866" author="scolebourne" created="Mon, 3 Jan 2011 18:37:59 +0000"  >&lt;p&gt;Commons Math is a specialist library, Lang is a general purpose one. Fraction is definitely a general purpose concept, and so shoudl remain in Lang. Of course any bugs should be fixed, but remembering the general-purpose, rather than mathematical, focus.&lt;/p&gt;</comment>
                    <comment id="12976883" author="sebb@apache.org" created="Mon, 3 Jan 2011 19:03:35 +0000"  >&lt;p&gt;I agree - Lang needs to keep its existing basic mathematical (mainly arithmetical) classes.&lt;/p&gt;</comment>
                    <comment id="12981317" author="bayard" created="Thu, 13 Jan 2011 16:27:07 +0000"  >&lt;p&gt;Resolution sounds like it&apos;ll be pointing to Math BigFraction in the javadoc of Lang Fraction.&lt;/p&gt;</comment>
                    <comment id="12982472" author="bayard" created="Mon, 17 Jan 2011 04:13:06 +0000"  >&lt;p&gt;svn ci -m &quot;Adding note that this has overflow issues and pointing to BigFraction&quot; src/main/java/org/apache/commons/lang3/math/Fraction.java &lt;br/&gt;
Sending        src/main/java/org/apache/commons/lang3/math/Fraction.java&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 1059747.&lt;/p&gt;</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="12310000">
                <name>Duplicate</name>
                                <outwardlinks description="duplicates">
                            <issuelink>
            <issuekey id="12421471">MATH-251</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                        <issuelinktype id="10030">
                <name>Reference</name>
                                                <inwardlinks description="is related to">
                            <issuelink>
            <issuekey id="12492553">LANG-662</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sat, 1 Jan 2011 07:13:10 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-631] StringUtils JavaDoc contains erroneous examples</title>
                <link>https://issues.apache.org/jira/browse/LANG-631</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;For the method: static int 	lastIndexOf(String str, String searchStr) &lt;/p&gt;

&lt;p&gt;@&lt;br/&gt;
(v2.5): &lt;a href=&quot;http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html#lastIndexOf(java.lang.String,%20java.lang.String&quot;&gt;http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html#lastIndexOf(java.lang.String,%20java.lang.String&lt;/a&gt;)&lt;br/&gt;
(v3.0): &lt;a href=&quot;http://commons.apache.org/lang/api/org/apache/commons/lang3/StringUtils.html#lastIndexOf(java.lang.String,%20java.lang.String&quot;&gt;http://commons.apache.org/lang/api/org/apache/commons/lang3/StringUtils.html#lastIndexOf(java.lang.String,%20java.lang.String&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;These results are wrong:&lt;br/&gt;
 StringUtils.lastIndexOf(&quot;aabaabaa&quot;, &quot;a&quot;)  = 0&lt;br/&gt;
 StringUtils.lastIndexOf(&quot;aabaabaa&quot;, &quot;b&quot;)  = 2&lt;br/&gt;
 StringUtils.lastIndexOf(&quot;aabaabaa&quot;, &quot;ab&quot;) = 1&lt;/p&gt;

&lt;p&gt;Correct values:&lt;br/&gt;
1st = 7&lt;br/&gt;
2nd = 5&lt;br/&gt;
3rd = 4&lt;/p&gt;</description>
                <environment></environment>
            <key id="12468545">LANG-631</key>
            <summary>StringUtils JavaDoc contains erroneous examples</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priority_minor.gif">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="maxxyme">Maxx</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jul 2010 09:29:44 +0000</created>
                <updated>Tue, 6 Jul 2010 07:30:26 +0000</updated>
                    <resolved>Tue, 6 Jul 2010 07:28:05 +0000</resolved>
                            <version>2.5</version>
                <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                          <timeoriginalestimate seconds="60">1m</timeoriginalestimate>
                    <timeestimate seconds="60">1m</timeestimate>
                                  <comments>
                    <comment id="12885450" author="bayard" created="Tue, 6 Jul 2010 07:28:05 +0000"  >&lt;p&gt;Current trunk had addressed this, but had transposed the 4 and 5 results. I&apos;ve fixed that in r960831, namely:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;StringUtils.lastIndexOf(&quot;aabaabaa&quot;, &quot;a&quot;)  = 7&lt;/li&gt;
	&lt;li&gt;StringUtils.lastIndexOf(&quot;aabaabaa&quot;, &quot;b&quot;)  = 5&lt;/li&gt;
	&lt;li&gt;StringUtils.lastIndexOf(&quot;aabaabaa&quot;, &quot;ab&quot;) = 4&lt;/li&gt;
&lt;/ul&gt;
</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Tue, 6 Jul 2010 07:28:05 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-643] Javadoc StringUtils.left() claims to throw on negative len, but doesn&apos;t</title>
                <link>https://issues.apache.org/jira/browse/LANG-643</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;The Javadoc comment for StringUtils.left() claims to throw an exception &quot;if len is negative&quot; (and that input argument len &quot;must be zero or positive&quot;):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/lang/api/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int&quot;&gt;http://commons.apache.org/lang/api/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html#left(java.lang.String,%20int&quot;&gt;http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html#left(java.lang.String,%20int&lt;/a&gt;)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;public static String left(String str, int len)&lt;/p&gt;

&lt;p&gt;    Gets the leftmost len characters of a String.&lt;/p&gt;

&lt;p&gt;    If len characters are not available, or the String is null, the String will be returned without an exception. &lt;font color=&quot;red&quot;&gt;An exception is thrown if len is negative.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;     StringUtils.left(null, *)    = null&lt;br/&gt;
     StringUtils.left(*, -ve)     = &quot;&quot;&lt;br/&gt;
     StringUtils.left(&quot;&quot;, *)      = &quot;&quot;&lt;br/&gt;
     StringUtils.left(&quot;abc&quot;, 0)   = &quot;&quot;&lt;br/&gt;
     StringUtils.left(&quot;abc&quot;, 2)   = &quot;ab&quot;&lt;br/&gt;
     StringUtils.left(&quot;abc&quot;, 4)   = &quot;abc&quot;&lt;/p&gt;

&lt;p&gt;    Parameters:&lt;br/&gt;
        str - the String to get the leftmost characters from, may be null&lt;br/&gt;
        len - the length of the required String, &lt;font color=&quot;red&quot;&gt;must be zero or positive&lt;/font&gt;&lt;br/&gt;
    Returns:&lt;br/&gt;
        the leftmost characters, null if null String input&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But it  doesn&apos;t. (Luckily and preferably anyway &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.)&lt;br/&gt;
Instead an empty string will be returned. (Which is good.) As is seen from the implementation code ...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;........
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (len &amp;lt; 0) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; EMPTY;
        }
        ...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;..., and by example, too:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ cat StringUtilsTest.java
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.lang.StringUtils;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; class StringUtilsTest {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; result = StringUtils.left(&lt;span class=&quot;code-quote&quot;&gt;&quot;foobar&quot;&lt;/span&gt;, -42);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;&quot;&lt;/span&gt; + result + &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;&quot;&lt;/span&gt;);
    }
}

$ javac -classpath commons-lang.jar StringUtilsTest.java

$ java -classpath .:commons-lang.jar StringUtilsTest
&amp;gt;&amp;lt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Javadoc comment should be updated.&lt;/p&gt;

&lt;p&gt;Same issue for right() and mid(), by the way.&lt;/p&gt;

&lt;p&gt;Volker Glave&lt;/p&gt;</description>
                <environment></environment>
            <key id="12471555">LANG-643</key>
            <summary>Javadoc StringUtils.left() claims to throw on negative len, but doesn&apos;t</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priority_minor.gif">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="vgl">Volker Glave</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Aug 2010 14:52:35 +0000</created>
                <updated>Sun, 29 Aug 2010 22:39:13 +0000</updated>
                    <resolved>Sun, 29 Aug 2010 22:39:13 +0000</resolved>
                            <version>2.5</version>
                <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="12902606" author="bayard" created="Wed, 25 Aug 2010 20:00:46 +0000"  >&lt;p&gt;Thanks Volker. The javadoc has been fixed in svn.&lt;/p&gt;</comment>
                    <comment id="12902802" author="vgl" created="Thu, 26 Aug 2010 09:52:48 +0000"  >&lt;p&gt;Thanks ... and now for a little nitpicking (sorry):&lt;/p&gt;

&lt;p&gt;As mentioned before the javadoc for param &quot;len&quot; still is a bit overly strict:&lt;br/&gt;
&quot;len - the length of the required String&lt;font color=&quot;red&quot;&gt;, must be zero or positive&lt;/font&gt;&quot;&lt;/p&gt;

&lt;p&gt;Since it must not, as discussed.&lt;/p&gt;

&lt;p&gt;Again: left(), right() and mid().&lt;/p&gt;

&lt;p&gt;V.&lt;/p&gt;</comment>
                    <comment id="12904044" author="bayard" created="Sun, 29 Aug 2010 22:39:13 +0000"  >&lt;p&gt;Please, nit pick away &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Text deleted in r990663.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Wed, 25 Aug 2010 20:00:46 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-710] StringIndexOutOfBoundsException when calling unescapeHtml4(&quot;&amp;#03&quot;)</title>
                <link>https://issues.apache.org/jira/browse/LANG-710</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;When calling unescapeHtml4() on the String &quot;&amp;amp;#03&quot; (or any String that contains these characters) an Exception is thrown:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 4&lt;br/&gt;
	at java.lang.String.charAt(String.java:686)&lt;br/&gt;
	at org.apache.commons.lang3.text.translate.NumericEntityUnescaper.translate(NumericEntityUnescaper.java:49)&lt;br/&gt;
	at org.apache.commons.lang3.text.translate.AggregateTranslator.translate(AggregateTranslator.java:53)&lt;br/&gt;
	at org.apache.commons.lang3.text.translate.CharSequenceTranslator.translate(CharSequenceTranslator.java:88)&lt;br/&gt;
	at org.apache.commons.lang3.text.translate.CharSequenceTranslator.translate(CharSequenceTranslator.java:60)&lt;br/&gt;
	at org.apache.commons.lang3.StringEscapeUtils.unescapeHtml4(StringEscapeUtils.java:351)&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.6.0_24&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_24-b07)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 19.1-b02, mixed mode)&lt;/p&gt;</environment>
            <key id="12512502">LANG-710</key>
            <summary>StringIndexOutOfBoundsException when calling unescapeHtml4(&quot;&amp;#03&quot;)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priority_minor.gif">Minor</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="bayard">Henri Yandell</assignee>
                                <reporter username="benpicco">Benjamin Valentin</reporter>
                        <labels>
                        <label>StringEscapeUtils</label>
                        <label>StringUtils</label>
                    </labels>
                <created>Fri, 1 Jul 2011 20:57:30 +0000</created>
                <updated>Sat, 9 Jul 2011 05:09:46 +0000</updated>
                    <resolved>Sat, 9 Jul 2011 05:09:46 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0</fixVersion>
                                <component>lang.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13058800" author="benpicco" created="Fri, 1 Jul 2011 21:07:40 +0000"  >&lt;p&gt;any &amp;amp; followed by an invalid escape sequence or just a solitary &quot;&amp;amp;&quot; will have the same effect.&lt;/p&gt;</comment>
                    <comment id="13059174" author="bayard" created="Sun, 3 Jul 2011 07:57:43 +0000"  >&lt;p&gt;Thanks Benjamin.&lt;/p&gt;

&lt;p&gt;I&apos;ve fixed this in trunk - it would be very appreciated if you could confirm this works for you.&lt;/p&gt;

&lt;p&gt;svn ci -m &quot;Adding tests and resolving &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-710&quot; title=&quot;StringIndexOutOfBoundsException when calling unescapeHtml4(&amp;quot;&amp;amp;#03&amp;quot;)&quot;&gt;&lt;del&gt;LANG-710&lt;/del&gt;&lt;/a&gt;, reported by Benjamin Valentin. Note that this changed such that the code will now escape an unfinished entity (i.e. &amp;amp;#030). This matches browser behaviour. &quot;&lt;br/&gt;
Sending        src/main/java/org/apache/commons/lang3/text/translate/NumericEntityUnescaper.java&lt;br/&gt;
Sending        src/test/java/org/apache/commons/lang3/text/translate/NumericEntityUnescaperTest.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 1142389.&lt;/p&gt;
</comment>
                    <comment id="13059340" author="joehni" created="Mon, 4 Jul 2011 06:57:00 +0000"  >&lt;p&gt;I am not sure whether this is really a good idea to accept this input silently. In the end it is an HTML syntax error. While a SIOOBE is not really helpful, a java.text.ParseException seems to me mkore appropriate. WDYT?&lt;/p&gt;</comment>
                    <comment id="13059451" author="garydgregory" created="Mon, 4 Jul 2011 14:08:21 +0000"  >&lt;p&gt;Ignoring garbage Input seems like trouble to me too that can only make things worse. Just imagine, why is one method accepting garbage input and another not. IMO, garbage in means that you should blow up.&lt;/p&gt;</comment>
                    <comment id="13060285" author="bayard" created="Wed, 6 Jul 2011 04:56:24 +0000"  >&lt;p&gt;Agreed. I was thinking of the browser accepting it, but that&apos;s only really applicable to the escape method and because browser&apos;s support weakly defined human input. An unescape method should run on already escaped code, and that code should have been escaped properly.&lt;/p&gt;

&lt;p&gt;I&apos;ll look into throwing a ParseException. &lt;/p&gt;</comment>
                    <comment id="13061027" author="bayard" created="Thu, 7 Jul 2011 03:44:29 +0000"  >&lt;p&gt;So the basic issue imo is that ParseException is a typed exception - we&apos;d have to introduce it to the StringEscapeUtils API.&lt;/p&gt;

&lt;p&gt;I&apos;m uncomfortable throwing a random IllegalArgumentException (or similar) when the bad data is passed in. That may be the typed-exception fan in me speaking. I don&apos;t like discovering at 4am that someone found a piece of data that caused a heretofore unknown runtime exception to occur.&lt;/p&gt;

&lt;p&gt;So we have three options:&lt;/p&gt;

&lt;p&gt;1: Leave the data unescaped because it is poorly typed.&lt;br/&gt;
2: Claim that we&apos;re dealing with XHTML and throw an exception.&lt;br/&gt;
3: Escape the data.&lt;/p&gt;

&lt;p&gt;All the options seem useful, but none of them seem perfect. So I&apos;ve implemented all three.&lt;/p&gt;

&lt;p&gt;svn ci -m &quot;Making unescapeHtml &lt;em&gt;NOT&lt;/em&gt; escape unfinished numeric entities by default (it ignores them); however adding options that will fire an exception or unescape the numeric entity. &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-710&quot; title=&quot;StringIndexOutOfBoundsException when calling unescapeHtml4(&amp;quot;&amp;amp;#03&amp;quot;)&quot;&gt;&lt;del&gt;LANG-710&lt;/del&gt;&lt;/a&gt;&quot;&lt;br/&gt;
Sending        src/main/java/org/apache/commons/lang3/text/translate/NumericEntityUnescaper.java&lt;br/&gt;
Sending        src/test/java/org/apache/commons/lang3/text/translate/NumericEntityUnescaperTest.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 1143641.&lt;/p&gt;</comment>
                    <comment id="13062323" author="bayard" created="Sat, 9 Jul 2011 05:09:46 +0000"  >&lt;p&gt;Resolving.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Sun, 3 Jul 2011 07:57:43 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-720] StringEscapeUtils.escapeXml(input) outputs wrong results when an input contains characters in Supplementary Planes.</title>
                <link>https://issues.apache.org/jira/browse/LANG-720</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;Hello.&lt;/p&gt;

&lt;p&gt;I use StringEscapeUtils.escapeXml(input) to escape special characters for XML.&lt;br/&gt;
This method outputs wrong results when input contains characters in Supplementary Planes.&lt;/p&gt;

&lt;p&gt;String str1 = &quot;\uD842\uDFB7&quot; + &quot;A&quot;;&lt;br/&gt;
String str2 = StringEscapeUtils.escapeXml(str1);&lt;/p&gt;

&lt;p&gt;// The value of str2 must be equal to the one of str1,&lt;br/&gt;
// because str1 does not contain characters to be escaped.&lt;br/&gt;
// However, str2 is diffrent from str1.&lt;/p&gt;

&lt;p&gt;System.out.println(URLEncoder.encode(str1, &quot;UTF-16BE&quot;)); //%D8%42%DF%B7A&lt;br/&gt;
System.out.println(URLEncoder.encode(str2, &quot;UTF-16BE&quot;)); //%D8%42%DF%B7%FF%FD&lt;/p&gt;

&lt;p&gt;The cause of this problem is that the loop to translate input character by character is wrong.&lt;br/&gt;
In CharSequenceTranslator.translate(CharSequence input, Writer out),&lt;br/&gt;
loop counter &quot;i&quot; moves from 0 to Character.codePointCount(input, 0, input.length()),&lt;br/&gt;
but it should move from 0 to input.length().&lt;/p&gt;</description>
                <environment></environment>
            <key id="12514062">LANG-720</key>
            <summary>StringEscapeUtils.escapeXml(input) outputs wrong results when an input contains characters in Supplementary Planes.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="yabuki">Taro Yabuki</reporter>
                        <labels>
                        <label>patch</label>
                    </labels>
                <created>Thu, 14 Jul 2011 13:24:55 +0000</created>
                <updated>Tue, 19 Jul 2011 05:00:56 +0000</updated>
                    <resolved>Thu, 14 Jul 2011 18:50:17 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0.1</fixVersion>
                                <component>lang.*</component>
                <component>lang.text.translate.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13065250" author="yabuki" created="Thu, 14 Jul 2011 13:27:49 +0000"  >&lt;p&gt;Patch for org/apache/commons/lang3/text/translate/CharSequenceTranslator.java.&lt;/p&gt;</comment>
                    <comment id="13065387" author="garydgregory" created="Thu, 14 Jul 2011 16:59:08 +0000"  >&lt;p&gt;The patch does not break any unit test with the latest from SVN but it is missing a unit test.&lt;/p&gt;

&lt;p&gt;Perhaps we should hold off since we are in the middle of a VOTE.&lt;/p&gt;</comment>
                    <comment id="13065455" author="mbenson" created="Thu, 14 Jul 2011 18:50:17 +0000"  >&lt;p&gt;I was also going to ask for a unit test, but wanted to improve my understanding of the situation anyway, so adapted the posted problem code.  Even though we are currently voting on the release of 3.0.0 from RC4 I don&apos;t see why we can&apos;t fix this in trunk; the RC tag is already cut.  I have used the concept of the patch to rewrite the entire method in question, primarily to avoid the modification of a counter variable within a for loop.&lt;/p&gt;

&lt;p&gt;Committed revision 1146844.&lt;/p&gt;</comment>
                    <comment id="13065462" author="garydgregory" created="Thu, 14 Jul 2011 18:57:13 +0000"  >&lt;p&gt;OK, thanks for the redo.&lt;/p&gt;

&lt;p&gt;I think we should cut another RC to pick this up.&lt;/p&gt;</comment>
                    <comment id="13065463" author="mbenson" created="Thu, 14 Jul 2011 18:59:19 +0000"  >&lt;p&gt;was going to punt to the dev list &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I just used a sports metaphor.  :|&lt;/p&gt;</comment>
                    <comment id="13067496" author="bayard" created="Tue, 19 Jul 2011 05:00:56 +0000"  >&lt;p&gt;Note that we&apos;ll release this in 3.0.1. 3.0 will go out with this as a known issue and 3.0.1 will follow (August).&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12486437" name="CharSequenceTranslator.java.20110714.diff" size="876" author="yabuki" created="Thu, 14 Jul 2011 13:27:49 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Thu, 14 Jul 2011 16:59:08 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-734] The CHAR_ARRAY cache in CharUtils duplicates the cache in java.lang.Character</title>
                <link>https://issues.apache.org/jira/browse/LANG-734</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;The CHAR_ARRAY cache in CharUtils duplicates the cache in java.lang.Character.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.3 (r1075438; 2011-02-28 12:31:09-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.3\bin\..&lt;br/&gt;
Java version: 1.6.0_24, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_24\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
            <key id="12517676">LANG-734</key>
            <summary>The CHAR_ARRAY cache in CharUtils duplicates the cache in java.lang.Character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="garydgregory">Gary D. Gregory</assignee>
                                <reporter username="garydgregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Aug 2011 17:59:48 +0000</created>
                <updated>Wed, 16 Nov 2011 06:56:36 +0000</updated>
                    <resolved>Tue, 2 Aug 2011 18:16:48 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.0.1</fixVersion>
                                <component>lang.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13078335" author="garydgregory" created="Tue, 2 Aug 2011 18:16:48 +0000"  >&lt;p&gt;In trunk.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-736] CharUtils static final array CHAR_STRING is not needed to compute CHAR_STRING_ARRAY</title>
                <link>https://issues.apache.org/jira/browse/LANG-736</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;CharUtils static final array CHAR_STRING is not needed to compute CHAR_STRING_ARRAY.&lt;/p&gt;

&lt;p&gt;This:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CHAR_STRING = 
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\b\t\n\u000b\f\r\u000e\u000f&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0020\u0021\&quot;&lt;/span&gt;\u0023\u0024\u0025\u0026\u0027&quot; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0028\u0029\u002a\u002b\u002c\u002d\u002e\u002f&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0030\u0031\u0032\u0033\u0034\u0035\u0036\u0037&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0038\u0039\u003a\u003b\u003c\u003d\u003e\u003f&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0040\u0041\u0042\u0043\u0044\u0045\u0046\u0047&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0048\u0049\u004a\u004b\u004c\u004d\u004e\u004f&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0050\u0051\u0052\u0053\u0054\u0055\u0056\u0057&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0058\u0059\u005a\u005b\\\u005d\u005e\u005f&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0060\u0061\u0062\u0063\u0064\u0065\u0066\u0067&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0068\u0069\u006a\u006b\u006c\u006d\u006e\u006f&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0070\u0071\u0072\u0073\u0074\u0075\u0076\u0077&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\u0078\u0079\u007a\u007b\u007c\u007d\u007e\u007f&quot;&lt;/span&gt;;

&lt;span class=&quot;code-comment&quot;&gt;// snip
&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 127; i &amp;gt;= 0; i--) {
            CHAR_STRING_ARRAY[i] = CHAR_STRING.substring(i, i + 1);
        }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can be recoded as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; c = 0; c &amp;lt; CHAR_STRING_ARRAY.length; c++) {
            CHAR_STRING_ARRAY[c] = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(c);
        }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the lang 3.0 code, using the Oracle Java 5 String impl, the 128 Strings share the underlying CHAR_STRING char[] because of the way Sun implemented String#substring(int,int).&lt;/p&gt;

&lt;p&gt;The proposed implementation does not reply on this private implementation detail but creates one char&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; array per String. &lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</description>
                <environment></environment>
            <key id="12517679">LANG-736</key>
            <summary>CharUtils static final array CHAR_STRING is not needed to compute CHAR_STRING_ARRAY</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="garydgregory">Gary D. Gregory</assignee>
                                <reporter username="garydgregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Aug 2011 18:19:53 +0000</created>
                <updated>Wed, 9 Nov 2011 04:16:57 +0000</updated>
                    <resolved>Tue, 16 Aug 2011 14:07:08 +0000</resolved>
                            <version>3.0</version>
                                <fixVersion>3.1</fixVersion>
                                <component>lang.*</component>
                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13079797" author="bayard" created="Fri, 5 Aug 2011 06:20:03 +0000"  >&lt;p&gt;Moving to 3.0.2 as it&apos;s not pressing.&lt;/p&gt;

&lt;p&gt;What about other JDK implementations? The way you word things sounds as though you&apos;re relying on a Sun feature.&lt;/p&gt;</comment>
                    <comment id="13079966" author="mbenson" created="Fri, 5 Aug 2011 13:27:30 +0000"  >&lt;p&gt;Actually, I read the report as &quot;the &lt;b&gt;current&lt;/b&gt; lang code relies on a Sun feature, and should be changed.&quot;&lt;/p&gt;</comment>
                    <comment id="13080522" author="garydgregory" created="Sun, 7 Aug 2011 02:39:47 +0000"  >&lt;p&gt;Yes, I would prefer to see:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;simpler code IMO (like my proposal) instead of something looks odd and is undocumented in our code, or&lt;/li&gt;
	&lt;li&gt;document our current code and explain why it works, and on what JREs it works.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    <comment id="13085559" author="bayard" created="Tue, 16 Aug 2011 06:17:57 +0000"  >&lt;p&gt;New code looks good. Simpler +1.&lt;/p&gt;</comment>
                    <comment id="13085716" author="garydgregory" created="Tue, 16 Aug 2011 14:07:08 +0000"  >&lt;p&gt;In SVN.&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                    <attachment id="12489096" name="lang-736.diff" size="2720" author="garydgregory" created="Tue, 2 Aug 2011 18:35:49 +0000" />
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>1.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                <customfieldname>Date of First Response</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>Fri, 5 Aug 2011 06:20:03 +0000</customfieldvalue>

                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[LANG-746] NumberUtils does not handle upper-case hex: 0X and -0X</title>
                <link>https://issues.apache.org/jira/browse/LANG-746</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                        <description>&lt;p&gt;NumberUtils.createNumber() should work equally for 0x1234 and 0X1234; currently 0X1234 generates a NumberFormatException&lt;/p&gt;

&lt;p&gt;Integer.decode() handles both upper and lower case hex.&lt;/p&gt;</description>
                <environment></environment>
            <key id="12519819">LANG-746</key>
            <summary>NumberUtils does not handle upper-case hex: 0X and -0X</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/bug.gif">Bug</type>
                                <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priority_major.gif">Major</priority>
                    <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/status_closed.gif">Closed</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Aug 2011 12:32:12 +0000</created>
                <updated>Wed, 9 Nov 2011 04:16:57 +0000</updated>
                    <resolved>Tue, 23 Aug 2011 12:33:42 +0000</resolved>
                            <version>3.0</version>
                <version>3.0.1</version>
                                <fixVersion>3.1</fixVersion>
                                        <due></due>
                    <votes>0</votes>
                        <watches>0</watches>
                                                    <comments>
                    <comment id="13089423" author="sebb@apache.org" created="Tue, 23 Aug 2011 12:33:42 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1160660&amp;amp;view=rev&quot;&gt;http://svn.apache.org/viewvc?rev=1160660&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-746&quot; title=&quot;NumberUtils does not handle upper-case hex: 0X and -0X&quot;&gt;&lt;del&gt;LANG-746&lt;/del&gt;&lt;/a&gt; NumberUtils does not handle upper-case hex: 0X and -0X&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
   commons/proper/lang/trunk/src/main/java/org/apache/commons/lang3/math/NumberUtils.java&lt;br/&gt;
   commons/proper/lang/trunk/src/site/changes/changes.xml&lt;br/&gt;
   commons/proper/lang/trunk/src/test/java/org/apache/commons/lang3/math/NumberUtilsTest.java&lt;/p&gt;</comment>
                </comments>
                    <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                <customfieldname>Attachment count</customfieldname>
                <customfieldvalues>
                    <customfieldvalue>0.0</customfieldvalue>
                </customfieldvalues>
            </customfield>
                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                <customfieldname>Global Rank</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                <customfieldname>Time in Status</customfieldname>
                <customfieldvalues>
                    
                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>
</channel>
</rss>